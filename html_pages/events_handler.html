<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>window events handler testcase</title>
  </head>
  <body>
    <h1 style="text-align: center">Window Events Handler TestCase</h1>
  </body>
  <script>
    window.onload = () => {
      console.log('onload cb')
      console.log(
        `domain: ${window.origin}, full url: ${document.head.baseURI}`
      )
      console.log(`browser info: ${navigator.userAgent}`)
    }
    window.onbeforeunload = (e) => {
      console.log('onbeforeunload cb: page refresh or close event')
      console.log('event:', e)
    }
    window.onpopstate = (e) => {
      console.log('onpopstate cb: domain change event')
      console.log(`domain from ${window.origin} to ${e.target.location.origin}`)
    }

    document.addEventListener('visibilitychange', () => {
      if (document.visibilityState === 'visible') {
        console.log('visibilitychange cb: page active')
      } else if (document.visibilityState === 'hidden') {
        console.log('visibilitychange cb: page inactive')
      }
    })
  </script>
</html>
